個人的メモです

Original
https://www.sigbus.info/compilerbook

# 機械語とアセンブラ

逆アセンブル
$ objdump -d -M intel /bin/ls | head -n 50

関数からリターンした時、RAXの値が関数の返り値

第一引数はRDIレジスタ、第二引数はRSIレジスタに入れるという約束

callというのは関数を呼び出す命令です。具体的にcallは次のことを行います。
- callの次の命令（この場合ret）のアドレスをスタックにプッシュ
- callの引数として与えられたアドレスにジャンプ

具体的にretは次のことを行います。
- スタックからアドレスを1つポップ
- そのアドレスにジャンプ

# ステップ1
## 2023-04-06

生成したアセンブラをコンパイル時にワーニング
```
/usr/lib/gcc/x86_64-pc-linux-gnu/12/../../../../x86_64-pc-linux-gnu/bin/ld: warning: /tmp/ccpia2NJ.o: missing .note.GNU-stack section implies executable stack
/usr/lib/gcc/x86_64-pc-linux-gnu/12/../../../../x86_64-pc-linux-gnu/bin/ld: NOTE: This behaviour is deprecated and will be removed in a future version of the linker
```

よくわかってないけど、とりあえず-Wa,--noexecstackをつけて対応

test.sh
```
  cc -o tmp tmp.s -Wa,--noexecstack
```

